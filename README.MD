# üß≠ Instalaci√≥n y Configuraci√≥n del Proyecto

## üß© Instalar Paquetes Necesarios

Ejecuta este comando para agregar **AutoMapper**:

```bash
dotnet add package AutoMapper.Extensions.Microsoft.DependencyInjection
```

Libreria para generar pdf
```bash 
dotnet add package DinkToPdf
```

Libreria para generar excel
```bash 
dotnet add package EPPlus
```



Si a√∫n no tienes instalado **Entity Framework Core** para MySQL, agrega tambi√©n:

```bash
dotnet add package Microsoft.EntityFrameworkCore
dotnet add package Pomelo.EntityFrameworkCore.MySql
dotnet add package Microsoft.EntityFrameworkCore.Tools
dotnet add package Microsoft.EntityFrameworkCore.Design
```

üí° Estos paquetes permiten crear, aplicar y administrar migraciones con EF Core en MySQL.

## üîê Configurar la Base de Datos

Antes de trabajar con la base de datos, aseg√∫rate de que MySQL est√© corriendo correctamente en Docker:

```bash
docker compose up -d
```

Luego, valida que el contenedor est√© activo:

```bash
docker ps
```

El usuario `root` ya est√° configurado en el `docker-compose.yml` con la contrase√±a definida.

### Conexi√≥n al Servidor

En tu archivo `appsettings.json`, define la conexi√≥n as√≠:

```json
"ConnectionStrings": {
  "DefaultConnection": "Server=localhost;Port=3306;Database=ComplianceGuard_DB;User=root;Password=YourStrong@Passw0rd;"
}
```

‚ö†Ô∏è Importante: Si cambiaste la contrase√±a en Docker, actual√≠zala aqu√≠ tambi√©n.

## ‚öôÔ∏è Migraciones con Entity Framework Core

Aseg√∫rate de estar en el proyecto donde se encuentra el `DbContext` (por ejemplo, la carpeta `API` o `Infrastructure`).

1. Crear la primera migraci√≥n:

   ```bash
   dotnet ef migrations add InitialCreate
   ```

2. Aplicar las migraciones a la base de datos:

   ```bash
   dotnet ef database update

   dotnet ef database drop 

   ```

3. Ver lista de migraciones aplicadas:

   ```bash
   dotnet ef migrations list
   ```

4. Eliminar una migraci√≥n (si a√∫n no se ha aplicado):

   ```bash
   dotnet ef migrations remove
   ```

## üöÄ Levantar la API

Ejecuta el proyecto normalmente:

```bash
dotnet run
```

O si tienes m√∫ltiples proyectos en la soluci√≥n:

```bash
dotnet run --project ComplianceGuardPro.API
```

Por defecto, la API quedar√° disponible en:

- üåê HTTP: http://localhost:5000
- üîí HTTPS: https://localhost:5001

## üß∞ Comandos √ötiles

- Crear una nueva migraci√≥n: `dotnet ef migrations add NombreMigracion`
- Aplicar todas las migraciones pendientes: `dotnet ef database update`
- Eliminar la √∫ltima migraci√≥n: `dotnet ef migrations remove`
- Ejecutar la API: `dotnet run`
- Compilar la soluci√≥n: `dotnet build`
- Restaurar dependencias: `dotnet restore`

## ‚úÖ Recomendaci√≥n Final

- Mant√©n sincronizado el MYSQL_ROOT_PASSWORD del `docker-compose.yml` con tu `appsettings.json`.
- Si deseas acceder al MySQL desde **MySQL Workbench** o **phpMyAdmin**, usa las mismas credenciales:
  - Server: localhost
  - Port: 3306
  - User: root
  - Password: YourStrong@Passw0rd
  - Database: ComplianceGuard_DB



